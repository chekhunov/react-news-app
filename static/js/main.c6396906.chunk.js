(this.webpackJsonpnews=this.webpackJsonpnews||[]).push([[0],{10:function(e,t,s){e.exports={"icon-arrow-top":"Header_icon-arrow-top__1S4-B","icon-find":"Header_icon-find__314hX",headerInner:"Header_headerInner__1UE6a",headerBlock:"Header_headerBlock__3j2T7",headerFind:"Header_headerFind__2p4y7",list:"Header_list__3CV2z",subListWrapper:"Header_subListWrapper__2ts-P",subList:"Header_subList__kHdoO",item:"Header_item__falKD"}},23:function(e,t,s){e.exports={"icon-arrow-top":"Footer_icon-arrow-top__3jMEu","icon-find":"Footer_icon-find__NjoF0",footer:"Footer_footer__miWNG",copy:"Footer_copy__3n1Xj"}},39:function(e,t,s){e.exports={"icon-arrow-top":"SubItemCategory_icon-arrow-top__361ck","icon-find":"SubItemCategory_icon-find__2gOX7",subItem:"SubItemCategory_subItem__1M9Pj"}},69:function(e,t,s){},70:function(e,t,s){},71:function(e,t,s){},72:function(e,t,s){},73:function(e,t,s){},74:function(e,t,s){},76:function(e,t,s){"use strict";s.r(t);var i=s(1),n=s.n(i),a=s(35),c=s.n(a),r=s(22),l=s.n(r),o=s(36),u=s(19),d=s(3),b=s(5),j=s(2),m=n.a.createContext([]),p=s(15),f=s.n(p),h=s(11),O=s.n(h),x=s(23),v=s.n(x),g=s(0);function w(){var e=Object(i.useState)(!1),t=Object(d.a)(e,2),s=t[0],n=t[1];return window.addEventListener("scroll",(function(){!s&&window.pageYOffset>300?n(!0):s&&window.pageYOffset<=300&&n(!1)})),Object(g.jsx)("section",{className:v.a.footer,children:Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:O()("unselectable","pos-r",v.a.copy),children:[Object(g.jsx)(b.b,{to:"/react-news-app/",children:Object(g.jsx)("span",{className:"logo",children:"News App"})}),"2021 copyright all rights reserved",s&&Object(g.jsxs)("button",{className:"button-up",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:["Scroll to top ",Object(g.jsx)("span",{className:"icon-arrow-top"})]})]})})})}s(69);function _(e){var t=e.id,s=e.setIsClickNews,a=e.fields,c=e.webTitle,r=e.webPublicationDate,l=e.getDays,o=e.getTime,u=e.getMinLastViewed,j=e.setIdNews,m=e.onPlus,p=e.added,f=void 0!==p&&p,h=n.a.useState(f),O=Object(d.a)(h,2),x=O[0],v=O[1],w=Object(i.useState)(+new Date),_=Object(d.a)(w,2),N=_[0],S=(_[1],function(){m({id:t,date:N}),v(!x)});return Object(g.jsxs)("article",{className:"news__meta",children:[Object(g.jsxs)("div",{className:"news__left",children:[Object(g.jsx)(b.b,{to:"/".concat(t),children:Object(g.jsx)("div",{className:"news__headline truncate-text",onClick:function(){S(),o(t),j(t),s(!0)},children:c})}),Object(g.jsx)("p",{className:"news__desc trim-few",children:a.bodyText}),Object(g.jsxs)("div",{className:"news__bottom",children:[Object(g.jsxs)("div",{className:"news__date",children:[Object(g.jsx)("span",{className:"news__days",children:l(r)}),Object(g.jsxs)("span",{children:["day",l(r)>1&&"s"," ago"]}),Object(g.jsx)("span",{className:"news__date-click",children:u(t)})]}),Object(g.jsx)(b.b,{to:"/".concat(t),children:Object(g.jsx)("span",{className:"news__link",onClick:function(){S(),o(t),j(t),s(!0)},children:"Read more"})})]})]}),Object(g.jsx)("div",{className:"news__rigth",children:Object(g.jsx)(b.b,{to:"/".concat(t),children:Object(g.jsx)("div",{className:"news__img-inner",onClick:function(){S(),o(t),j(t),s(!0)},children:Object(g.jsx)("img",{src:a.thumbnail,alt:"content news"})})})})]})}s(70);function N(){return Object(g.jsxs)("div",{className:"lds-facebook",children:[Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{})]})}var S=s(39),C=s.n(S);function k(e){var t=e.items,s=e.setSelectCategories,i=e.burgerShow;return Object(g.jsx)(g.Fragment,{children:t&&t.map((function(e){return Object(g.jsx)(b.b,{to:"/",children:Object(g.jsx)("li",{className:C.a.subItem,onClick:function(){s(e),i()},children:e})},e)}))})}s(71);function q(e){var t=e.handleSubmit;return Object(g.jsx)("div",{class:"close-button",onClick:t,children:Object(g.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(g.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.3536 0.646447C13.5488 0.841709 13.5488 1.15829 13.3536 1.35355L1.35355 13.3536C1.15829 13.5488 0.841709 13.5488 0.646447 13.3536C0.451184 13.1583 0.451184 12.8417 0.646447 12.6464L12.6464 0.646447C12.8417 0.451184 13.1583 0.451184 13.3536 0.646447Z",fill:"#25282B"}),Object(g.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.646447 0.646447C0.841709 0.451184 1.15829 0.451184 1.35355 0.646447L13.3536 12.6464C13.5488 12.8417 13.5488 13.1583 13.3536 13.3536C13.1583 13.5488 12.8417 13.5488 12.6464 13.3536L0.646447 1.35355C0.451184 1.15829 0.451184 0.841709 0.646447 0.646447Z",fill:"#25282B"})]})})}var L=s(10),y=s.n(L);function I(e){var t=e.setSelectCategories,s=e.filter,n=e.setFilter,a=e.filteredList,c=e.handleSubmit,r=Object(i.useState)(!1),l=Object(d.a)(r,2),o=l[0],u=l[1],j=Object(i.useState)(!1),m=Object(d.a)(j,2),p=(m[0],m[1]),f=Object(i.useState)(""),h=Object(d.a)(f,2);h[0],h[1];function x(){u(!o),o&&p(!0)}return Object(g.jsx)("section",{className:y.a.header,children:Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:y.a.headerInner,children:[Object(g.jsxs)("div",{className:O()(y.a.headerBlock,"header-block"),children:[Object(g.jsx)(b.b,{to:"/react-news-app/",children:Object(g.jsx)("span",{className:"logo",children:"News App"})}),Object(g.jsxs)("div",{className:O()(y.a.headerFind,"header-find"),children:[Object(g.jsx)("span",{className:"icon-find",onClick:function(){return a(s)}}),Object(g.jsx)("label",{htmlFor:"find",children:Object(g.jsx)("input",{id:"find",className:"find-input",type:"text",value:s,onChange:function(e){return n(e.target.value)},placeholder:"Type something to start search"})}),Object(g.jsx)(q,{handleSubmit:c})]})]}),Object(g.jsx)("nav",{className:O()(y.a.menu,"menu",{active:o}),children:Object(g.jsxs)("ul",{className:y.a.list,children:[Object(g.jsxs)("li",{className:y.a.item,children:["Categories",Object(g.jsxs)("span",{className:y.a.subListWrapper,children:[Object(g.jsx)("span",{}),Object(g.jsx)("ul",{className:y.a.subList,children:Object(g.jsx)(k,{items:["Sport","World","Covid","Business","Politics","Science","Religion","Health"],setSelectCategories:t,burgerShow:x})})]})]}),Object(g.jsx)(b.b,{to:"/react-news-app/",children:Object(g.jsx)("li",{className:y.a.item,onClick:function(){t("trending"),x()},children:"\u26a1\ufe0f Trending news"})})]})}),Object(g.jsx)("div",{className:"burger-wrap",onClick:function(){return x()},children:Object(g.jsx)("div",{className:O()("burger",o&&"active"),children:Object(g.jsx)("span",{})})})]})})})}var T=s(25);s(72);var D=Object(j.g)((function(e){var t=e.isLoading,s=e.getDays,i=e.setIdNews,n=e.sortNews,a=e.getTime,c=e.getMinLastViewed,r=e.setIsClickNews,l=e.onAddToNewsTime,o=e.newsClickTimeItems;return Object(g.jsxs)("div",{className:"news d-flex mt-30 mb-50",children:[Object(g.jsx)("div",{className:"container",children:!t&&Object(g.jsxs)("div",{className:"news__inner",children:[n&&n.map((function(e,t){if(0===t)return Object(g.jsx)(_,Object(T.a)({setIsClickNews:r,onPlus:function(e){return l(e)},added:o.some((function(t){return t.id===e.id})),getDays:s,getTime:a,setIdNews:i,getMinLastViewed:c},e),e.id)})),Object(g.jsx)("div",{className:"news__content",children:n&&n.map((function(e,t){if(t>=1)return Object(g.jsx)(_,Object(T.a)({setIsClickNews:r,onPlus:function(e){return l(e)},added:o.some((function(t){return t.id===e.id})),getDays:s,getTime:a,setIdNews:i,getMinLastViewed:c},e),e.id)}))})]})}),t&&Object(g.jsx)(N,{})]})}));s(73);var P=Object(j.g)((function(e){var t=e.isLoading,s=e.sortNews,n=e.setIsLoading,a=Object(i.useState)(""),c=Object(d.a)(a,2),r=c[0],l=c[1],o=Object(j.f)(),u=function(){l("")};return Object(i.useEffect)((function(){s.length?n(!1):n(!0)}),[s,t,r]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("section",{className:"news-pages",children:Object(g.jsxs)("div",{className:"container",children:[!t&&Object(g.jsx)("div",{className:"news-pages__inner",children:s&&s.map((function(e,t){if(e.id===o.pathname.slice(1))return Object(g.jsxs)("div",{className:"news-pages__content",children:[Object(g.jsxs)("div",{className:"news-pages__top",children:[Object(g.jsx)("img",{src:e.fields.thumbnail,alt:"news"}),Object(g.jsxs)("div",{className:O()("news-pages__input-article"),children:[Object(g.jsx)("span",{className:"icon-find",onClick:function(e){return function(e){var t=e.toLowerCase(),s=document.getElementById("ex").firstChild,i=s.nodeValue.toLowerCase();if(~i.indexOf(t)){if(document.createRange){var n=document.createRange();n.setStart(s,i.indexOf(t)),n.setEnd(s,i.indexOf(t)+t.length);var a=document.createElement("span");a.style.backgroundColor="blue",n.surroundContents(a)}}else alert("\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")}(r)}}),Object(g.jsx)("label",{htmlFor:"find",children:Object(g.jsx)("input",{id:"find-article",className:"find-input-article",type:"text",value:r,onChange:function(e){return l(e.target.value)},placeholder:"Find text in article"})}),Object(g.jsx)(q,{handleSubmit:u})]})]}),Object(g.jsx)("div",{className:"news-pages__article",children:Object(g.jsx)("div",{className:"container-small",children:Object(g.jsxs)("div",{className:"news-pages__article-inner",children:[Object(g.jsx)("h1",{className:"news-pages__title",children:e.webTitle}),Object(g.jsx)("p",{id:"ex",className:"news-pages__desc",children:'"Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit..." "There is no one who loves pain itself, who seeks after it and wants to have it, simply because it is pain..."'}),Object(g.jsx)("hr",{}),Object(g.jsx)("p",{className:"news-pages__text",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc id venenatis justo, mattis commodo dolor. Ut tristique aliquam fermentum. Nullam purus sem, gravida a urna id, viverra rhoncus felis. Curabitur id augue at libero commodo rhoncus non quis nibh. Proin sagittis nunc quam, convallis malesuada nulla aliquam ut. Vivamus viverra ornare tempus. Maecenas varius justo ac turpis euismod volutpat. Fusce ullamcorper est felis, ac varius mi congue id. Sed diam ante, mollis sit amet porttitor nec, suscipit non eros. Curabitur nec dolor consectetur, elementum purus vitae, suscipit lorem. Donec vulputate leo sed justo auctor, pharetra aliquet velit faucibus. Suspendisse commodo eros magna, eu gravida eros dignissim sit amet."}),Object(g.jsx)("p",{className:"news-pages__text",children:"Morbi aliquam tellus risus, eu commodo sapien pharetra ac. Duis bibendum nulla id tempus ornare. Aliquam ut posuere dui, in ullamcorper urna. In sollicitudin efficitur libero sit amet sollicitudin. Quisque congue orci nisi, hendrerit egestas odio consectetur suscipit. Nulla lobortis augue et nibh rutrum, et vulputate risus mollis. Aliquam nibh ligula, vulputate nec molestie quis, euismod et nibh. Donec quis tellus nec turpis lobortis sagittis. Curabitur vestibulum ac nibh vitae laoreet. Phasellus eleifend sollicitudin suscipit. Duis quis lacus id turpis porttitor ultricies a at turpis."}),Object(g.jsx)("p",{className:"news-pages__text",children:"Sed eu dignissim urna. Aliquam laoreet sapien sed nunc pulvinar cursus. Ut sit amet consectetur nisl. Phasellus id ex sed nisi mollis commodo a nec tellus. Sed vel mattis nulla. Donec eget lectus ac lectus pellentesque fringilla. Pellentesque a arcu vel eros mollis vehicula ut ut diam."}),Object(g.jsx)("p",{className:"news-pages__text",children:"Maecenas et urna dapibus, blandit ipsum at, dictum felis. Cras congue faucibus ante, non aliquam ante pellentesque et. Donec id ullamcorper erat. Phasellus quis nulla eleifend, aliquet nibh vestibulum, dapibus libero. Praesent varius sapien dapibus mi efficitur tincidunt. Nam quis mi bibendum, maximus tellus vel, rhoncus sem. Vivamus eget hendrerit leo. Curabitur in orci vel nulla porttitor porta non a urna. Phasellus at massa posuere, consectetur felis vel, suscipit mauris. Quisque ac purus eu felis efficitur dapibus sit amet sed turpis. Suspendisse mi mi, malesuada feugiat lobortis eget, auctor sodales magna."}),Object(g.jsx)("p",{className:"news-pages__text",children:"Pellentesque metus felis, commodo ac augue quis, hendrerit vestibulum turpis. Nulla aliquam nulla ut tempus porttitor. Phasellus et arcu velit. Maecenas blandit ligula ut purus laoreet auctor. Praesent blandit tortor lorem, nec finibus nisl hendrerit vitae. Curabitur mattis ipsum in nisi tempus ultricies. Sed pellentesque elementum commodo. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Maecenas quis finibus libero."})]})})})]},"item.id")}))}),t&&Object(g.jsx)(N,{})]})})})}));var M=function(){var e=Object(i.useState)(m),t=Object(d.a)(e,2),s=t[0],a=t[1],c=Object(i.useState)(!1),r=Object(d.a)(c,2),p=r[0],h=r[1],O=Object(i.useState)(""),x=Object(d.a)(O,2),v=x[0],_=x[1],N=Object(i.useState)(!1),S=Object(d.a)(N,2),C=S[0],k=S[1],q=Object(i.useState)(+new Date),L=Object(d.a)(q,2),y=L[0],T=(L[1],Object(i.useState)((new Date).toLocaleDateString())),M=Object(d.a)(T,2),F=M[0],H=(M[1],Object(i.useState)((new Date).toLocaleTimeString())),B=Object(d.a)(H,2),E=B[0],V=(B[1],Object(i.useState)([])),A=Object(d.a)(V,2),W=A[0],R=A[1],z=Object(i.useState)(!1),U=Object(d.a)(z,2),X=(U[0],U[1]),J=Object(i.useState)([]),Q=Object(d.a)(J,2),Y=Q[0],Z=(Q[1],Object(i.useState)("trending")),G=Object(d.a)(Z,2),K=G[0],$=G[1],ee=Object(i.useState)(""),te=Object(d.a)(ee,2),se=(te[0],te[1]),ie=Object(i.useState)([]),ne=Object(d.a)(ie,2),ae=ne[0],ce=ne[1],re=function(e){if(e){var t=y,s=W.filter((function(t){return t.id.includes(e)})).map((function(e){return e.date})),i=Math.ceil((t-s)/6e4);if(i<27233){if(i<60)return String("\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0430 ".concat(i," \u043c\u0438\u043d. \u043d\u0430\u0437\u0430\u0434"));var n=Math.floor(i/60),a=i-60*n;return String("\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0430 ".concat(n,"\u0447.").concat(a," \u043c\u0438\u043d. \u043d\u0430\u0437\u0430\u0434"))}return"\u043d\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0430"}};function le(e){if(e){var t=[{id:e,date:F.split(".").reverse(),time:E}];return a(t),E}}var oe=function(e){if(!e)return"";var t=e.substr(0,10).split("-"),s=F.split(".").reverse(),i="".concat(t[1],"-").concat(t[2],"-").concat(t[0]),n="".concat(s[1],"-").concat(s[2],"-").concat(s[0]),a=new Date(i),c=new Date(n);return Math.ceil(Math.abs(c.getTime()-a.getTime())/864e5)},ue=function(e){var t=Object(u.a)(e).sort((function(e,t){return parseFloat(oe(e.webPublicationDate))-parseFloat(oe(t.webPublicationDate))}));ce(t)},de=function(e){for(var t=e.split(""),s="qwertyuiop[]asdfghjkl;'zxcvbnm,.".split(""),i="\u0439\u0446\u0443\u043a\u0435\u043d\u0433\u0448\u0449\u0437\u0445\u044a\u0444\u044b\u0432\u0430\u043f\u0440\u043e\u043b\u0434\u0436\u044d\u044f\u0447\u0441\u043c\u0438\u0442\u044c\u0431\u044e.".split(""),n=[],a=function(e){var a=t[e],c=i.filter((function(e){return e.toLowerCase().includes(a.toLowerCase())}));if(c){var r=i.findIndex((function(e){return e===c}));if(-1===r)return{v:void 0};n.push(s[r])}},c=0;c<t.length;c++){var r=a(c);if("object"===typeof r)return r.v}var l=n.join("");return be(l)},be=function(e){var t=Object(u.a)(ae).filter((function(t){return t.webTitle.toLowerCase().includes(e.toLowerCase())}));t&&ce(t),de(e)};n.a.useEffect((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,f.a.get("https://content.guardianapis.com/search?q= + ".concat(K," + &show-tags=all&page-size=20&show-fields=all&order-by=relevance&api-key=0cc1c5bc-7fe4-47bc-80cc-f17c13be193c"));case 4:return t=e.sent,e.next=7,f.a.get("https://614bb851e4cc2900179eb1ab.mockapi.io/news-time");case 7:s=e.sent,ue(t.data.response.results),R(s.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert("H\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439");case 15:h(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){return!0}}),[K,C]);var je=function(e){W.find((function(t){return String(t.id)===String(e.id)}))?(f.a.delete("https://614bb851e4cc2900179eb1ab.mockapi.io/news-time/".concat(e.id)),R((function(t){return t.filter((function(t){return String(t.id)===String(e.id)}))}))):(f.a.post("https://614bb851e4cc2900179eb1ab.mockapi.io/news-time",e),R((function(t){return[].concat(Object(u.a)(t),[e])})))};return Object(g.jsx)(m.Provider,{value:[s,a],children:Object(g.jsxs)(b.a,{children:[Object(g.jsx)(I,{setSelectCategories:$,filter:v,setFilter:_,filteredList:be,handleSubmit:function(){_(""),k(!C)}}),Object(g.jsxs)(j.c,{children:[Object(g.jsx)(j.a,{exact:!0,path:"/react-news-app/",render:function(){return Object(g.jsx)(D,{isLoading:p,setIsClickNews:X,news:Y,sortNews:ae,setIdNews:se,getDays:oe,getTime:le,onAddToNewsTime:je,newsClickTimeItems:W,getMinLastViewed:re})}}),Object(g.jsx)(j.a,{path:"/:id",render:function(){return Object(g.jsx)(P,{isLoading:p,sortNews:ae,setIsLoading:h})}})]}),Object(g.jsx)(w,{})]})})};s(74),s(75);c.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(M,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.c6396906.chunk.js.map